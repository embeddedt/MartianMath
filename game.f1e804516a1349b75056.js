!function(t){function e(e){for(var o,s,a=e[0],u=e[1],c=e[2],h=0,f=[];h<a.length;h++)s=a[h],r[s]&&f.push(r[s][0]),r[s]=0;for(o in u)Object.prototype.hasOwnProperty.call(u,o)&&(t[o]=u[o]);for(l&&l(e);f.length;)f.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],o=!0,a=1;a<n.length;a++){var u=n[a];0!==r[u]&&(o=!1)}o&&(i.splice(e--,1),t=s(s.s=n[0]))}return t}var o={},r={0:0},i=[];function s(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=o,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)s.d(n,o,function(e){return t[e]}.bind(null,o));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="";var a=window.webpackJsonp=window.webpackJsonp||[],u=a.push.bind(a);a.push=e,a=a.slice();for(var c=0;c<a.length;c++)e(a[c]);var l=u;i.push([2,1]),n()}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=[["   S  S    [////]           ","  [////]            S   SG  ","                    #   []  ","   P      SSSS              ","[/////]   [///]             "],["                 B                    ","               [////]                 ","              O     O                 ","   S       B             S    S    G  ","[//]       [////]   [////]   [//////] ","    O   O                             "," P        B                           ","[///]  [//]                           "],[" P                     [//]       G   ","[/]    O   B        O           [/]   ","         [//]     [//]                ","      S                     B  B      "," O  [//]      B            [///]      ","S        O  [///]     []  O        O  ","[]                                    ","         [/]            [/]      [/]  "],["       O                                    ","                      O                 O   ","      [///]                 O      [////]   ","           [///]       S  [//]              ","                   [///]      [///]         ","             S                              ","         [///]           O              G   ","      O            O               [////]   ","  P                     S  B                ","[//////]       [///]  [////]                "],["                        O  O         S                                  ","                                 [//////]           B                G  ","                  O    [/////]                [///////]          [////] ","                                                                        ","  P      S     B    B              O       S     S         S            ","[////////]  [///////]             [/]    [////////////////////]         "]];e.default=o},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(e,n,o,r){var i=t.call(this,e,n,o,r)||this;return i._dead=!1,e.add.existing(i),e.physics.add.existing(i),i}return r(e,t),Object.defineProperty(e.prototype,"dead",{get:function(){return this._dead},set:function(t){this._dead=t},enumerable:!0,configurable:!0}),e.prototype.removeEnemy=function(){var t=this;this.dead=!0,this.anims.stop(),this.body.setVelocityX(0),this.scene.tweens.add({targets:this,delay:2e3,duration:600,alpha:0,onComplete:function(){t.destroy()}})},e}(Phaser.Physics.Arcade.Sprite);e.default=i},function(t,e,n){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),n(3);var r=o(n(4)),i=o(n(21)),s=o(n(22)),a=o(n(24));n(23);window.addEventListener("choose",(function(){var t={type:Phaser.WEBGL,backgroundColor:"#ffffff",parent:"phaser-game",scale:{mode:Phaser.Scale.NONE,width:1280,height:720},plugins:{scene:[{key:"SpineWebGLPlugin",plugin:s.default,start:!0,sceneKey:"spine"},{key:"rexUI",plugin:a.default,mapping:"rexUI"}]},scene:[i.default,r.default],physics:{default:"arcade",arcade:{debug:!1,gravity:{y:2500}}}},e=new Phaser.Game(t),n=function(){var t=window.innerWidth,n=window.innerHeight,o=Math.min(t/1280,n/720),r=Math.min(t/o,3840),i=Math.min(n/o,2160),s=1,a=function(t,e,n){return(t-e)/(n-e)};s=1280/720<t/n?-a(r/i,1280/720,3840/720)/(1/(1.15-1))+1.15:-a(r/i,1280/720,1280/2160)/(1/(1.15-1))+1.15,e.scale.resize(r*s,i*s),e.canvas.style.width=r*o+"px",e.canvas.style.height=i*o+"px",e.canvas.style.marginTop=(n-i*o)/2+"px",e.canvas.style.marginLeft=(t-r*o)/2+"px"};window.addEventListener("resize",(function(t){n()})),n()}))},,function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function s(t){try{u(o.next(t))}catch(t){i(t)}}function a(t){try{u(o.throw(t))}catch(t){i(t)}}function u(t){t.done?r(t.value):new n((function(e){e(t.value)})).then(s,a)}u((o=o.apply(t,e||[])).next())}))},s=this&&this.__generator||function(t,e){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var u=n(5),c=a(n(6)),l=a(n(8)),h=a(n(9)),f=a(n(11)),p=a(n(14)),d=a(n(15)),y=a(n(17)),_=a(n(18)),w=a(n(19)),b=function(t,e){return t.rexUI.add.label({background:t.rexUI.add.roundRectangle(0,0,0,0,20,6198003),text:t.add.text(0,0,e,{fontSize:"40px"}),space:{left:10,right:10,top:10,bottom:10}})},m=!0,v=!1,g=!1,O=0,x=function(t){function e(){return t.call(this,{key:"MainScene"})||this}return r(e,t),e.prototype.init=function(t){var e=t.level,n=void 0===e?0:e;this.level=u.Map.calcCurrentLevel(n)},e.prototype.askQuestion=function(t){return i(this,void 0,Promise,(function(){var e,n=this;return s(this,(function(o){switch(o.label){case 0:return this.scene.pause(),this.physics.pause(),[4,new Promise((function(e){return window.queueMicrotask((function(){return i(n,void 0,void 0,(function(){var n,o,r;return s(this,(function(i){switch(i.label){case 0:return n="MathQuestionScene"+O++,[4,(o=this.scene.add(n,w.default,!0,{num:t})).getQuestionAnswer()];case 1:return r=i.sent(),this.scene.remove(o),e(r),[2]}}))}))}))}))];case 1:return e=o.sent(),this.physics.resume(),this.scene.resume(),this.input.keyboard.resetKeys(),[2,e]}}))}))},e.prototype.create=function(){var t=this,e=new u.Map(this.level);this.cameras.main.setBackgroundColor("#ade6ff"),this.cameras.main.fadeIn(),this.cameras.main.setBounds(e.size.x,e.size.y,e.size.width,e.size.height),this.physics.world.setBounds(e.size.x,e.size.y,e.size.width,e.size.height),this.input.addPointer(1),this.cursors=this.input.keyboard.createCursorKeys(),g||(this.music=this.sound.add("music",{loop:!0,volume:this.game.device.os.iOS?.05:.15}),this.music.play(),g=!0),this.background=new y.default(this),this.tilesGroup=new c.default(this,e.info.filter((function(t){return"tile"===t.type}))),this.goal=new p.default(this,e.info.filter((function(t){return"goal"===t.type}))[0]),this.player=new l.default(this,e.info.filter((function(t){return"player"===t.type}))[0],e.size,this.level),this.enemiesGroup=new f.default(this,e.info);var n=new h.default(this,e.info.filter((function(t){return"coin"===t.type})));if(this.controls=new d.default(this),!m){m=!0;var o=this.rexUI.add.dialog({anchor:{centerX:"center",centerY:"center"},background:this.rexUI.add.roundRectangle(0,0,100,100,20,1402304),title:this.rexUI.add.label({background:this.rexUI.add.roundRectangle(0,0,100,40,20,15503),text:this.add.text(0,0,"Question",{fontSize:"60px"}),space:{left:15,right:15,top:10,bottom:10}}),content:this.add.text(0,0,"Do you want to enter full screen mode?",{fontSize:"40px"}),actions:[b(this,"Yes"),b(this,"No")],space:{title:25,content:25,action:15,left:20,right:20,top:20,bottom:20},align:{actions:"right"},expand:{content:!1}}).layout().popUp(1e3).on("button.over",(function(t,e,n){t.getElement("background").setStrokeStyle(1,16777215)})).on("button.out",(function(t,e,n){t.getElement("background").setStrokeStyle()})).on("button.click",(function(e,n,r){"Yes"==e.text&&(t.game.scale.fullscreenTarget=document.body,t.game.scale.startFullscreen(),t.scale.updateBounds()),o.destroy()}))}this.cameras.main.startFollow(this.player),this.physics.add.collider(this.tilesGroup,this.player),this.physics.add.collider(this.tilesGroup,this.enemiesGroup),this.physics.add.overlap(this.player,this.enemiesGroup,(function(e,n){return i(t,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:if(n.dead||e.isDead())return[2];if(n.body.touching.up&&e.body.touching.down,"true"==n.getData("questionAsked")||v)return[3,2];v=!0;try{this.sound.play("player_attacks")}catch(t){}return n.setData("questionAsked","true"),console.log("open question"),[4,this.askQuestion(1)];case 1:t.sent()?(e.killEnemy(),n.kill()):e.kill(),v=!1,t.label=2;case 2:return[2]}}))}))})),this.physics.add.overlap(this.player,n,(function(t,e){return e.collect()})),this.physics.add.overlap(this.player,this.goal,(function(e,n){return i(t,void 0,void 0,(function(){var t,o,r;return s(this,(function(i){switch(i.label){case 0:if(e.isDead())return[2];if(v)return[3,5];v=!0,t=3,o=0,r=!0,i.label=1;case 1:return[4,this.askQuestion(t-o)];case 2:r=i.sent(),i.label=3;case 3:if(o++<t-1&&r)return[3,1];i.label=4;case 4:if(r){e.halt();try{this.sound.play("level_completes")}catch(t){}n.nextLevel(this,this.level)}else e.kill();v=!1,i.label=5;case 5:return[2]}}))}))})),this.miniMap=new _.default(this,10,10,Math.min(e.size.width/8,e.size.height/8*2.5),e.size.height/8,e),this.miniMap.setIgnore([this.background,this.controls.buttons.up,this.controls.buttons.left,this.controls.buttons.right]),this.miniMap.update(this.player);var r=document.getElementById("loading-screen");r&&(r.classList.add("transparent"),this.time.addEvent({delay:1e3,callback:function(){r.remove()}}));var a=function(){t.controls.adjustPositions(),t.background.adjustPosition()};this.scale.on("resize",(function(e){t.cameras.main.width=e.width,t.cameras.main.height=e.height,a()})),a()},e.prototype.update=function(){this.background.parallax(),this.controls.update(),this.enemiesGroup.update(),this.player.update(this.cursors,this.controls)},e}(Phaser.Scene);e.default=x},function(t,e,n){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(0)),s=function(){function t(e){var n=this,r={"[":{type:"tile",texture:"tile-left"},"/":{type:"tile",texture:"tile-middle"},"]":{type:"tile",texture:"tile-right"},"#":{type:"tile",texture:"tile-single"},G:{type:"goal",texture:"goal"},O:{type:"coin",texture:"coin"},S:{type:"enemy",texture:"slime"},B:{type:"enemy",texture:"bee"},P:{type:"player",texture:"player"}},s=i.default[t.calcCurrentLevel(e)];this.size={x:0,y:0,width:96*s[0].length,height:96*s.length+384},this.info=[],s.forEach((function(t,e){for(var i=0;i<t.length;i++){var s=t.charAt(i),a=i;if(" "!==s){var u=o({},r[s.toString()],{x:96*a,y:96*e+384});n.info.push(u)}}}))}return t.calcCurrentLevel=function(t){return t%i.default.length},t}();e.Map=s},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=i(n(7)),a=function(t){function e(e,n){var o=t.call(this,e)||this;return n.forEach((function(t){o.add(new s.default(e,t.x,t.y,t.texture))})),o}return r(e,t),e}(Phaser.GameObjects.Group);e.default=a},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(e,n,o,r){var i=t.call(this,e,n,o,r)||this;return i.setOrigin(0,0),e.add.existing(i),e.physics.add.existing(i,!0),i.body.checkCollision.down=!1,i.body.checkCollision.right=!1,i.body.checkCollision.left=!1,i}return r(e,t),e}(Phaser.Physics.Arcade.Sprite);e.default=i},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(e,n,o,r){var i=t.call(this,e,n.x,n.y,n.texture)||this;return i._dead=!1,i._halt=!1,i.notOnLand=!1,e.add.existing(i),e.physics.add.existing(i),i.scene=e,i.mapSize=o,i.setVisible(!0),i.setOrigin(0,1),i.setDragX(1500),i.body.setSize(70,132),i.body.setOffset(25,24),i}return r(e,t),e.prototype.isDead=function(){return this._dead},e.prototype.kill=function(){var t=this;this._dead=!0;try{this.scene.sound.play("player_dies",{volume:.4})}catch(t){}this.scene.cameras.main.shake(500,.025),this.setVelocityY(600),this.scene.time.addEvent({delay:2e3,callback:function(){return t.scene.scene.restart()}})},e.prototype.killEnemy=function(){this.setVelocityY(-600)},e.prototype.halt=function(){this.body.enable=!1,this._halt=!0},e.prototype.update=function(t,e){if(!this._halt&&!this._dead){if((this.body.right<this.mapSize.x||this.body.left>this.mapSize.width||this.body.top>this.mapSize.height)&&this.kill(),t.left.isDown||e.leftIsDown?(this.setVelocityX(-500),this.setFlipX(!0)):(t.right.isDown||e.rightIsDown)&&(this.setVelocityX(550),this.setFlipX(!1)),this.notOnLand&&this.body.blocked.down){try{this.scene.sound.play("player_lands")}catch(t){}this.notOnLand=!1}if((t.up.isDown||t.space.isDown||e.upIsDown)&&this.body.blocked.down){this.setVelocityY(-1250);try{this.scene.sound.play("player_jumps")}catch(t){}this.notOnLand=!0}else this.notOnLand||this.body.blocked.down||(this.notOnLand=!0);this.scene.game.device.features.vibration&&window.navigator.vibrate(200)}},e}(Phaser.Physics.Arcade.Sprite);e.default=i},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=i(n(10)),a=function(t){function e(e,n){var o=t.call(this,e)||this;return n.forEach((function(t){o.add(new s.default(e,t))})),o}return r(e,t),e}(Phaser.GameObjects.Group);e.default=a},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(e,n){var o=t.call(this,e,n.x+48,n.y+48,n.texture)||this;return o.collecting=!1,e.add.existing(o),e.physics.add.existing(o),o.setImmovable(),o.setScale(1.5),o.body.setAllowGravity(!1),e.anims.create({key:"spin",frames:e.anims.generateFrameNames("coin"),frameRate:16,repeat:-1}),o.play("spin"),o}return r(e,t),e.prototype.collect=function(){if(!this.collecting){this.collecting=!0;try{this.scene.sound.play("player_collects")}catch(t){}this.scene.tweens.add({targets:this,alpha:0,y:this.y-100,duration:500,ease:"Power2",onComplete:this.destroy.bind(this)})}},e}(Phaser.Physics.Arcade.Sprite);e.default=i},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=i(n(12)),a=i(n(13)),u=function(t){function e(e,n){var o=t.call(this,e)||this;o.TILE_SIZE=96,o.tiles=n.filter((function(t){return"tile"===t.type}));var r=n.filter((function(t){return"enemy"===t.type})),i=[];return r.forEach((function(t){switch(t.texture){case"bee":i.push(new s.default(e,t.x,t.y));break;case"slime":i.push(new a.default(e,t.x,t.y))}})),o.addMultiple(i),o}return r(e,t),e.prototype.update=function(){var t=this;this.children.iterate((function(e){if(!e.dead){var n=e.body.velocity.x>=0;0===t.tiles.filter((function(o){var r=n?e.body.right:e.body.left,i=r+32>o.x&&r-32<o.x+t.TILE_SIZE,s=e.body.bottom+t.TILE_SIZE/2>o.y&&e.body.bottom+t.TILE_SIZE/2<o.y+t.TILE_SIZE;return i&&s})).length&&(e.body.setVelocityX(-1*e.body.velocity.x),e.setFlipX(!n))}}),null)},e}(Phaser.GameObjects.Group);e.default=u},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(e,n,o){var r=t.call(this,e,n,o,"bee")||this;return e.add.existing(r),e.physics.add.existing(r),e.anims.create({key:"fly",frames:e.anims.generateFrameNumbers("bee",{start:0,end:1}),frameRate:8,repeat:-1}),r.play("fly"),r.body.setVelocityX(-120),r.setOrigin(.5,1),r.body.setSize(80,135),r.body.setOffset((r.width-80)/2,30),r}return r(e,t),e.prototype.update=function(){},e.prototype.kill=function(){this.dead||(this.body.setSize(80,40),this.setFrame(2),this.removeEnemy())},e}(i(n(1)).default);e.default=s},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(e,n,o){var r=t.call(this,e,n,o,"slime")||this;return e.add.existing(r),e.physics.add.existing(r),e.anims.create({key:"crawl",frames:e.anims.generateFrameNumbers("slime",{start:0,end:4}),frameRate:6,yoyo:!0,repeat:-1}),r.play("crawl"),r.body.setVelocityX(-60),r.setOrigin(.5,1),r.setScale(1),r.body.setSize(r.width-40,r.height-20),r.body.setOffset(20,20),r}return r(e,t),e.prototype.update=function(){},e.prototype.kill=function(){this.dead||(this.setFrame(5),this.removeEnemy())},e}(i(n(1)).default);e.default=s},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=i(n(0)),a=function(t){function e(e,n){var o=t.call(this,e,n.x,n.y+14,"goal")||this;return o._loadNextLevel=!1,e.add.existing(o),e.physics.add.existing(o),o.setImmovable(!0),o.body.setAllowGravity(!1),o.setOrigin(0,.5),o}return r(e,t),Object.defineProperty(e.prototype,"loadNextLevel",{get:function(){return this._loadNextLevel},enumerable:!0,configurable:!0}),e.prototype.nextLevel=function(t,e){this._loadNextLevel||(this._loadNextLevel=!0,e<s.default.length-1?(t.cameras.main.fadeOut(),t.time.addEvent({delay:2e3,callback:function(){t.scene.restart({level:e+=1})}})):(console.log("INFO"),document.querySelector("#you-win").style.display=""))},e}(Phaser.Physics.Arcade.Sprite);e.default=a},function(t,e,n){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(16)),i=function(){function t(t){var e=this;this.buttons={},this._width=192,this._height=192,this._scene=t,this._config=[{type:"left",rotation:1.5*Math.PI},{type:"right",rotation:.5*Math.PI},{type:"up",rotation:0}],this._config.forEach((function(n){e.buttons[n.type]=new r.default(t,0,0,n)}))}return t.prototype.adjustPositions=function(){var t=this._scene.cameras.main.width,e=this._scene.cameras.main.height;this.buttons.left.x=130,this.buttons.left.y=e-130,this.buttons.right.x=390,this.buttons.right.y=e-130,this.buttons.up.x=t-130,this.buttons.up.y=e-130},t.prototype.update=function(){var t=this;this.leftIsDown=!1,this.rightIsDown=!1,this.upIsDown=!1;var e=[this._scene.input.pointer1,this._scene.input.pointer2],n=[this.buttons.left,this.buttons.right,this.buttons.up];e.forEach((function(e){if(e.isDown){console.log(e.x,e.y);var o=n.filter((function(n){var o=n.x-t._width/2<e.x&&n.x+t._width/2>e.x,r=n.y-t._height/2<e.y&&n.y+t._height/2>e.y;return o&&r}));if(1===o.length)switch(o[0].type){case"left":t.leftIsDown=!0;break;case"right":t.rightIsDown=!0;break;case"up":t.upIsDown=!0}}}))},t}();e.default=i},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(e,n,o,r){var i=t.call(this,e,o,n,"controls")||this;return e.add.existing(i),i.setX(n).setY(o).setAlpha(.1).setRotation(r.rotation).setScrollFactor(0).setScale(1.25),i.type=r.type,e.sys.game.device.input.touch||i.setAlpha(0),i}return r(e,t),e}(Phaser.GameObjects.Image);e.default=i},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(e){var n=t.call(this,e,0,0,0,0,"background")||this;return e.add.existing(n),n.setOrigin(.5).setScrollFactor(0),n}return r(e,t),e.prototype.adjustPosition=function(){this.setScale(this.scene.cameras.main.height/648),this.x=this.scene.cameras.main.centerX,this.y=this.scene.cameras.main.centerY,this.width=this.scene.cameras.main.width},e.prototype.parallax=function(){this.tilePositionX=.2*this.scene.cameras.main.worldView.x},e}(Phaser.GameObjects.TileSprite);e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e,n,o,r,i){}return t.prototype.setIgnore=function(t){},t.prototype.update=function(t){},t}();e.default=o},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function s(t){try{u(o.next(t))}catch(t){i(t)}}function a(t){try{u(o.throw(t))}catch(t){i(t)}}function u(t){t.done?r(t.value):new n((function(e){e(t.value)})).then(s,a)}u((o=o.apply(t,e||[])).next())}))},s=this&&this.__generator||function(t,e){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var u=a(n(20)),c=0;function l(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1))+t}e.getParameterByName=function(t,e){e||(e=window.location.href),t=t.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)").exec(e);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null};var h=function(t){function e(){return t.call(this,{key:"MathQuestionScene"+c++})||this}return r(e,t),e.prototype.create=function(t){var e=this,n=window.maxResultSize,o=window.operation;console.log(n,o);var r,i,s,a=l(0,4),c=window.getNextMathQuestion();r=c.operands[0],i=c.operands[1],s=window.mathSymbol,this.currentCorrectAnswer=c.currentCorrectAnswer;for(var h=[],f=0;f<4;f++){var p;do{p=l(0,this.currentCorrectAnswer+5)}while(-1!=h.indexOf(p)||p==this.currentCorrectAnswer);h.push(p)}var d=[],y={};for(f=0;f<5;f++)d[f]=f==a?this.currentCorrectAnswer:h.pop(),y[d[f].toString()]=d[f].toString();window.innerHeight<400?u.default.fire({title:r+" "+s+" "+i+" = ?",text:"("+(t.num-1)+" question"+(t.num-1==1?"":"s")+" left to answer after this)",input:"select",allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1,inputOptions:y}).then((function(t){e.events.emit("answer_click",{text:t.value.toString()})})):u.default.fire({title:r+" "+s+" "+i+" = ?",text:"("+(t.num-1)+" question"+(t.num-1==1?"":"s")+" left to answer after this)",html:d.sort((function(t,e){return t-e})).map((function(t){return'<button type="button" role="button" tabindex="-1" class="swal2-confirm swal2-question-choice swal2-styled">'+t.toString()+"</button>"})).join(""),focusConfirm:!1,showConfirmButton:!1,allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1,customClass:{content:"swal2-question-content"},onOpen:function(t){t.querySelectorAll(".swal2-question-choice").forEach((function(t){return t.addEventListener("click",(function(t){var n=t.currentTarget;e.events.emit("answer_click",{text:n.textContent.toString()}),u.default.close()}))}))}})},e.prototype.getQuestionAnswer=function(){return i(this,void 0,Promise,(function(){var t=this;return s(this,(function(e){return[2,new Promise((function(e){return t.events.once("answer_click",(function(n){return i(t,void 0,void 0,(function(){var t,o=this;return s(this,(function(r){switch(r.label){case 0:t=parseInt(n.text)==this.currentCorrectAnswer;try{this.sound.play("player_answers_"+(t?"correct":"incorrect")+"ly")}catch(t){}return t?[3,2]:[4,new Promise((function(t){var e,n;o.rexUI.add.dialog({anchor:{centerX:"center",centerY:"center"},background:o.rexUI.add.roundRectangle(0,0,100,100,20,1402304),title:o.rexUI.add.label({background:o.rexUI.add.roundRectangle(0,0,100,40,20,15503),text:o.add.text(0,0,"Incorrect",{fontSize:"60px"}),space:{left:15,right:15,top:10,bottom:10}}),content:o.add.text(0,0,"The correct answer was "+o.currentCorrectAnswer+".",{fontSize:"40px"}),actions:[(e=o,n="OK",e.rexUI.add.label({background:e.rexUI.add.roundRectangle(0,0,100,40,20,6967115),text:e.add.text(0,0,n,{fontSize:"40px"}),space:{left:10,right:10,top:10,bottom:10}}))],space:{title:25,content:25,action:15,left:10,right:10,top:10,bottom:10},align:{actions:"right"},expand:{content:!1}}).layout().popUp(1e3).on("button.click",(function(e,n,o){t()}),o).on("button.over",(function(t,e,n){t.getElement("background").setStrokeStyle(1,16777215)})).on("button.out",(function(t,e,n){t.getElement("background").setStrokeStyle()}))}))];case 1:r.sent(),r.label=2;case 2:return e(t),[2]}}))}))}))}))]}))}))},e}(Phaser.Scene);e.default=h},,function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(){return t.call(this,{key:"PreloadScene"})||this}return r(e,t),e.prototype.preload=function(){var t=this;["tile-left","tile-middle","tile-right","tile-single","controls","background","goal"].forEach((function(e){t.load.image(e,"assets/img/"+e+".png")}));["player_jumps","player_attacks","player_answers_correctly","player_answers_incorrectly","player_dies","player_lands","level_completes","player_collects"].forEach((function(e){return t.load.audio(e,"assets/sounds/"+e+".wav")})),this.load.audio("music","assets/sounds/music.mp3"),this.load.spritesheet("player","assets/img/player.png",{frameHeight:165,frameWidth:120}),this.load.spritesheet("coin","assets/img/coin.png",{frameHeight:42,frameWidth:42}),this.load.spritesheet("bee","assets/img/bee.png",{frameHeight:100,frameWidth:128}),this.load.spritesheet("slime","assets/img/slime.png",{frameHeight:68,frameWidth:112}),this.load.setPath("assets/spine"),this.load.spine("boy","boy.json","boy.atlas")},e.prototype.create=function(){this.scene.start("MainScene")},e}(Phaser.Scene);e.default=i},,function(t,e){function n(t){var e,n,o;for(o=t.length-1;o>0;o--)e=Math.floor(Math.random()*(o+1)),n=t[o],t[o]=t[e],t[e]=n;return t}function o(t,e){var n;return"add"==window.mathOperation?n=t+e:"subtract"==window.mathOperation?n=t-e:"multiply"==window.mathOperation?n=t*e:"divide"==window.mathOperation&&(n=t/e),n}window.mathQuestions=[],window.generateMathQuestions=function(t,e){window.currentMathIndex=0,window.mathOperation=t;var r,i,s,a=!1;function u(t){return!isNaN(t)&&parseInt(Number(t))==t&&!isNaN(parseInt(t,10))}if("add"==t?window.mathSymbol="&plus;":"subtract"==t?(window.mathSymbol="&minus;",a=!0):"multiply"==t?window.mathSymbol="&times;":"divide"==t&&(window.mathSymbol="&divide;",a=!0),r=1,i=s=10==e?9:5,a)for(l=r;l<=i;l++)for(h=1;h<=s;h++){var c=l+h;u(o(c,l))?window.mathQuestions.push([c,l]):console.log("Skipped: "+c+" "+h)}else for(var l=r;l<=i;l++)for(var h=1;h<=s;h++)u(o(l,h))?window.mathQuestions.push([l,h]):console.log("Skipped: "+l+" "+h);if(0==window.mathQuestions.length)throw new Error("No "+t+" questions????");window.mathQuestions.sort((t,e)=>t[0]-e[0]),console.log(window.mathQuestions.slice()),n(window.mathQuestions)},window.getNextMathQuestion=function(){if(window.currentMathIndex<=window.mathQuestions.length-1){var t=window.mathQuestions[window.currentMathIndex],e=o(t[0],t[1]);return window.currentMathIndex++,{operands:t,currentCorrectAnswer:e}}return n(window.mathQuestions),window.currentMathIndex=0,window.getNextMathQuestion()}}]);